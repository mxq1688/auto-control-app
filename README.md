# Auto.js 自动打卡脚本

## 📱 环境准备

### 1. 安装 Auto.js
- 从官网或应用商店下载 Auto.js 或 Auto.js Pro
- 推荐版本：Auto.js Pro 8.x 或更高版本

### 2. 开启必要权限
在手机设置中开启以下权限：

1. **无障碍服务**
   - 设置 → 无障碍 → Auto.js → 开启

2. **悬浮窗权限**
   - 设置 → 应用 → Auto.js → 允许显示悬浮窗

3. **后台运行权限**（重要！）
   - 设置 → 电池 → Auto.js → 不限制后台运行
   - 在最近任务中锁定 Auto.js

4. **通知权限**（可选）
   - 用于接收打卡结果通知

## 📂 脚本说明

| 文件 | 说明 |
|------|------|
| `打卡助手.js` | 通用打卡脚本模板，可自定义修改 |
| `钉钉打卡.js` | 钉钉专用打卡脚本 |
| `定时打卡.js` | 支持定时自动打卡的脚本 |

## 🚀 使用方法

### 方式一：手动运行
1. 打开 Auto.js 应用
2. 导入脚本文件
3. 点击运行按钮

### 方式二：定时运行
1. 在 Auto.js 中打开 `定时打卡.js`
2. 修改 `SCHEDULE_CONFIG` 中的打卡时间
3. 使用 Auto.js 的定时任务功能设置每日运行

### 方式三：Tasker 联动
可配合 Tasker 实现更灵活的自动化：
1. 安装 Tasker
2. 创建任务调用 Auto.js 脚本
3. 设置触发条件（时间、位置等）

## ⚙️ 配置修改

### 修改目标APP
在脚本的 `CONFIG` 部分修改：

```javascript
const CONFIG = {
    packageName: "com.alibaba.android.rimet",  // APP包名
    appName: "钉钉",                            // APP名称
    checkInButtonText: "打卡",                  // 打卡按钮文字
};
```

### 常见APP包名
| APP | 包名 |
|-----|------|
| 钉钉 | `com.alibaba.android.rimet` |
| 企业微信 | `com.tencent.wework` |
| 飞书 | `com.ss.android.lark` |

## 🔍 获取控件信息

如果打卡按钮找不到，需要分析APP布局：

1. 打开 Auto.js
2. 侧边栏 → 布局分析
3. 打开目标APP的打卡页面
4. 返回 Auto.js 查看控件树
5. 找到打卡按钮的 `text`、`desc` 或 `id`

## ⚠️ 注意事项

1. **稳定性**：不同手机系统可能有差异，需要根据实际情况调整等待时间
2. **安全性**：脚本仅用于个人学习，请遵守公司规定
3. **位置要求**：如果打卡需要定位，请确保在打卡范围内
4. **网络要求**：确保手机网络畅通
5. **版本更新**：APP更新后可能需要调整脚本

## 🐛 常见问题

### Q: 脚本无法找到控件？
A: APP版本更新可能导致控件变化，使用布局分析重新获取控件信息

### Q: 屏幕无法解锁？
A: 如果有密码锁屏，需要在脚本中添加解锁逻辑或使用无密码锁屏

### Q: 定时任务不执行？
A: 检查Auto.js的后台运行权限，确保没有被系统杀掉

### Q: 打卡成功但显示失败？
A: 可能是成功判断逻辑不准确，需要根据实际APP调整成功判断条件

## 📝 自定义扩展

可以根据需要添加以下功能：
- 微信/钉钉消息通知打卡结果
- 截图保存打卡记录
- 失败自动重试
- 节假日跳过打卡

